# 模型配置文件

# LightGBM 配置
lightgbm:
  default_params:
    objective: "regression"
    metric: "rmse"
    boosting_type: "gbdt"
    num_leaves: 31
    learning_rate: 0.05
    feature_fraction: 0.9
    bagging_fraction: 0.8
    bagging_freq: 5
    max_depth: -1
    min_data_in_leaf: 20
    lambda_l1: 0.0
    lambda_l2: 0.0
    min_gain_to_split: 0.0
    verbose: -1
    random_state: 42
  
  training_params:
    num_boost_round: 1000
    early_stopping_rounds: 50
    verbose_eval: 50
  
  # Optuna 调参空间
  optuna_space:
    num_leaves: [20, 100]
    learning_rate: [0.01, 0.3]
    feature_fraction: [0.6, 1.0]
    bagging_fraction: [0.6, 1.0]
    max_depth: [3, 12]
    min_data_in_leaf: [10, 50]

# XGBoost 配置
xgboost:
  default_params:
    objective: "reg:squarederror"
    eval_metric: "rmse"
    max_depth: 6
    learning_rate: 0.05
    n_estimators: 1000
    subsample: 0.8
    colsample_bytree: 0.8
    min_child_weight: 1
    gamma: 0
    alpha: 0
    lambda: 1
    random_state: 42
    tree_method: "auto"
  
  training_params:
    early_stopping_rounds: 50
    verbose: 50

# CatBoost 配置
catboost:
  default_params:
    loss_function: "RMSE"
    iterations: 1000
    learning_rate: 0.05
    depth: 6
    l2_leaf_reg: 3
    random_seed: 42
    verbose: 50
  
  training_params:
    early_stopping_rounds: 50

# Prophet 配置
prophet:
  default_params:
    growth: "linear"  # linear 或 logistic
    changepoint_prior_scale: 0.05
    seasonality_prior_scale: 10.0
    holidays_prior_scale: 10.0
    seasonality_mode: "additive"  # additive 或 multiplicative
    yearly_seasonality: true
    weekly_seasonality: true
    daily_seasonality: false
  
  # 自定义季节性
  custom_seasonality:
    - name: "monthly"
      period: 30.5
      fourier_order: 5

# SARIMA 配置
sarima:
  order: [1, 1, 1]  # (p, d, q)
  seasonal_order: [1, 1, 1, 12]  # (P, D, Q, s)
  trend: "c"

# 模型选择策略
model_selection:
  default_model: "lightgbm"
  
  # 不同场景推荐的模型
  scenarios:
    quick_baseline: "prophet"
    production: "lightgbm"
    high_accuracy: "ensemble"
    single_series: "prophet"
    multi_series: "lightgbm"

# 集成模型配置
ensemble:
  method: "weighted_average"  # weighted_average, stacking
  models:
    - name: "lightgbm"
      weight: 0.5
    - name: "xgboost"
      weight: 0.3
    - name: "prophet"
      weight: 0.2
  
  stacking:
    meta_model: "linear_regression"
    cv_folds: 5

# AutoML 配置
automl:
  time_limit: 3600  # 秒
  metric: "rmse"
  presets: "best_quality"  # best_quality, high_quality, medium_quality, optimize_for_deployment
  eval_metric: "rmse"
